{"version":3,"file":"Layouter.js","sources":["../../../src/layout/Layouter.js"],"sourcesContent":["import React from 'react'\nimport Manager from './Manager'\n\nexport function LayoutRender(\n  container_id,\n  data,\n  classes,\n  config,\n  component_manger,\n  wrapper = 'div',\n  ignore = []\n) {\n  const content = [] // rendered content\n  if (!component_manger) {\n    throw new Error('Manager was not passed to LayoutRender')\n  }\n  console.info('-----------FIXME: TODO: IS THIS CODE USED?-----------')\n  for (const item of config.layout) {\n    if (!item) {\n      continue\n    }\n    // check if we should skip generating this item by request of the caller. Example dont allow card action to have another card\n    if (ignore.indexOf(item.type) > -1) {\n      console.warn(\n        'Using item type=' +\n          item.type +\n          ' not supported in layout for ' +\n          container_id\n      )\n      continue\n    }\n    // create a component identifier\n    const id = container_id + (item.id || item.type)\n\n    // build the component\n    if (item.type === 'layout') {\n      content.push(\n        <Layouter\n          id={id}\n          key={id}\n          classes={classes}\n          data={data}\n          manager={component_manger}\n          config={item.config}\n        />\n      )\n    } else {\n      const item_data = data || {}\n      const params = {\n        id: id,\n        key: id,\n        classes: classes,\n        manager: component_manger,\n        data: item.data || item_data[item.pick] || item_data,\n        config: item.config\n      }\n      const component =\n        Manager.ComponentManager.getInstance().getComponentInstance(\n          item.type,\n          params\n        )\n      if (component) {\n        content.push(component)\n      } else {\n        // TODO: notify missing component with type\n      }\n    }\n  }\n  return <div>{content}</div>\n}\n\nexport function Layouter(props) {\n  // style\n  const classes = {}\n  // recursive render\n  return LayoutRender(\n    props.id,\n    props.data,\n    classes,\n    props.config,\n    props.manager,\n    'div'\n  )\n}\n"],"names":["LayoutRender","container_id","data","classes","config","component_manger","ignore","arguments","length","undefined","content","Error","console","info","_step","_iterator","_createForOfIteratorHelper","layout","s","n","done","item","value","indexOf","type","warn","id","push","React","createElement","Layouter","key","manager","item_data","params","pick","component","Manager","ComponentManager","getInstance","getComponentInstance","err","e","f","props"],"mappings":"2RAGO,SAASA,EACdC,EACAC,EACAC,EACAC,EACAC,GACe,IACfC,EAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAEHG,EAAU,GAChB,IAAKL,EACH,MAAM,IAAIM,MAAM,0CAElBC,QAAQC,KAAK,yDAAwD,IACrCC,EADqCC,EAAAC,EAAAA,2BAClDZ,EAAOa,QAAM,IAAhC,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAkC,CAAA,IAAvBC,EAAIP,EAAAQ,MACb,GAAKD,EAIL,GAAIf,EAAOiB,QAAQF,EAAKG,OAAS,EAC/BZ,QAAQa,KACN,mBACEJ,EAAKG,KACL,gCACAvB,OALN,CAUA,IAAMyB,EAAKzB,GAAgBoB,EAAKK,IAAML,EAAKG,MAG3C,GAAkB,WAAdH,EAAKG,KACPd,EAAQiB,KACNC,UAAAC,cAACC,EAAQ,CACPJ,GAAIA,EACJK,IAAKL,EACLvB,QAASA,EACTD,KAAMA,EACN8B,QAAS3B,EACTD,OAAQiB,EAAKjB,cAGZ,CACL,IAAM6B,EAAY/B,GAAQ,GACpBgC,EAAS,CACbR,GAAIA,EACJK,IAAKL,EACLvB,QAASA,EACT6B,QAAS3B,EACTH,KAAMmB,EAAKnB,MAAQ+B,EAAUZ,EAAKc,OAASF,EAC3C7B,OAAQiB,EAAKjB,QAETgC,EACJC,UAAQC,iBAAiBC,cAAcC,qBACrCnB,EAAKG,KACLU,GAEAE,GACF1B,EAAQiB,KAAKS,EAIjB,CApCA,CAqCF,CAAC,CAAA,MAAAK,GAAA1B,EAAA2B,EAAAD,EAAA,CAAA,QAAA1B,EAAA4B,GAAA,CACD,OAAOf,EAAA,QAAAC,cAAA,MAAA,KAAMnB,EACf,CAEO,SAASoB,EAASc,GAIvB,OAAO5C,EACL4C,EAAMlB,GACNkB,EAAM1C,KAJQ,CAAA,EAMd0C,EAAMxC,OACNwC,EAAMZ,QACN,MAEJ"}