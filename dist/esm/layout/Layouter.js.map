{"version":3,"file":"Layouter.js","sources":["../../../src/layout/Layouter.js"],"sourcesContent":["import React from 'react'\nimport Manager from './Manager'\n\nexport function LayoutRender(\n  container_id,\n  data,\n  classes,\n  config,\n  component_manger,\n  wrapper = 'div',\n  ignore = []\n) {\n  const content = [] // rendered content\n  if (!component_manger) {\n    throw new Error('Manager was not passed to LayoutRender')\n  }\n  console.info('-----------FIXME: TODO: IS THIS CODE USED?-----------')\n  for (const item of config.layout) {\n    if (!item) {\n      continue\n    }\n    // check if we should skip generating this item by request of the caller. Example dont allow card action to have another card\n    if (ignore.indexOf(item.type) > -1) {\n      console.warn(\n        'Using item type=' +\n          item.type +\n          ' not supported in layout for ' +\n          container_id\n      )\n      continue\n    }\n    // create a component identifier\n    const id = container_id + (item.id || item.type)\n\n    // build the component\n    if (item.type === 'layout') {\n      content.push(\n        <Layouter\n          id={id}\n          key={id}\n          classes={classes}\n          data={data}\n          manager={component_manger}\n          config={item.config}\n        />\n      )\n    } else {\n      const item_data = data || {}\n      const params = {\n        id: id,\n        key: id,\n        classes: classes,\n        manager: component_manger,\n        data: item.data || item_data[item.pick] || item_data,\n        config: item.config\n      }\n      const component =\n        Manager.ComponentManager.getInstance().getComponentInstance(\n          item.type,\n          params\n        )\n      if (component) {\n        content.push(component)\n      } else {\n        // TODO: notify missing component with type\n      }\n    }\n  }\n  return <div>{content}</div>\n}\n\nexport function Layouter(props) {\n  // style\n  const classes = {}\n  // recursive render\n  return LayoutRender(\n    props.id,\n    props.data,\n    classes,\n    props.config,\n    props.manager,\n    'div'\n  )\n}\n"],"names":["LayoutRender","container_id","data","classes","config","component_manger","ignore","arguments","length","undefined","content","Error","console","info","_iterator","_createForOfIteratorHelper","layout","_step","s","n","done","item","value","indexOf","type","warn","id","push","React","createElement","Layouter","key","manager","item_data","params","pick","component","Manager","ComponentManager","getInstance","getComponentInstance","err","e","f","props"],"mappings":"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"}